Нужно сделать мини-ютуб

1) На странице в формочке указываются название видеоролика и файл.
2) Все это дело загружается на сервер, при этом должен отображаться progress бар,
    желательно средствами HTML5 и JS, т.е. без флэша.
  
    Органичений по браузеру нет - может работать где угодно, хотя бы в одном.
    Предлагается взять последний хром.

3) После загрузки показывается страничка с видео плеером, простейшим - на 5 html.
     
4) После загрузки на сервер файл отправляется на транскодинг средствами ffmpeg.


- Можно(и нужно) использовать любые готовые библиотеки, как серверные, так и клиентские.
- Ограничений по фреймворку, бд и т.д. нет, но нужно расказать, как бы вы с глобальной точки зрения все сделали, какие технологии использовали, какие узкие места видите и т.п.
- Желательно покрыть функционал тестами (rspec)

ИСПОЛЬЗОВАННЫЕ ТЕХНОЛОГИИ:
* Sinatra
* ActiveRecord (with PostgreSQL)
* Sidekiq
* CarrierWave
* StreamIO-FFMPEG (FFMPEG Ruby wrapper)
* jQuery-File-Upload
